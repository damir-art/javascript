# map()
map() - используется кода нужно перебрать массив или объект и к каждому элементу применить какую-либо функцию. Создаёт новый массив. Длина исходного массива совпадает с длиной нового.

    const a = ['Москва', 'Берлин', 'Пекин', 'Лондон', 'Париж']

    const b = a.map( el => {
        // console.log( 'Столица: ' + el ) // Столица: Название столицы
        return 'Столица: ' + el
    })

    console.log(b)

- Новый (результирующий) массив по размеру равен исходному
- `map()` по сути это цикл, который перебирает каждый элемент массива, выполняет над ним операцию и возвращает результат
- Чтобы создался новый массив с новыми значениями нужно использовать `return`, иначе получится массив со значениями элементов `undefined`
- Всё что записано в `return` будет возвращено в качестве значения элемента и записано в новый массив

## Параметры map()
В методе `map()` можно использовать параметры `index`

    const a = ['Москва', 'Берлин', 'Пекин', 'Лондон', 'Париж']

    const b = a.map( (el, index, array) => {
        // console.log( 'Столица: ' + el ) // Столица: Название столицы
        console.log(index)
        if (index == 1) {
            array[index + 1] = 'Шанхай' // Изменяется также и исходный исходный массив
        }
        return 'Столица: ' + el
    }, context)

    console.log(a)
    console.log(b)

- `index` - индекс элемента
- `array` - исходный массив
- `context` - контекст исполнения
- `if (index == 4) array[index + 1] = 'Шанхай'` - новый элемент добавится в исходный массив, а в новом массиве его не будет
- всё что делает `map()` можно заменить циклом

## Работаем с JSON
Пример работы с JSON-данными, убираем пробелы в значениях свойств объекта и переводим буквы в верхний регистр:

    const names = [
        { name: 'Ivan ',  age: 33 },
        { name: ' Petr',  age: 45 },
        { name: '   Sidor', age: 27 }
    ]

    const namesTrim = names.map( item => {
        item.name = item.name.trim().toLocaleLowerCase()
        return item
    })

    console.log(names) // почему то изменяет данные
    console.log(namesTrim)
